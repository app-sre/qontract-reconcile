{
  "apiVersion":"apps/v1",
  "kind":"Deployment",
  "metadata":{
    "labels":{
      "app.kubernetes.io/version":"v900.1.1"
    },
    "name":"some-app"
  },
  "spec":{
    "replicas":3,
    "selector":{
      "matchLabels":{
        "app.kubernetes.io/name":"some-app"
      }
    },
    "strategy":{
      "rollingUpdate":{
        "maxSurge":0,
        "maxUnavailable":1
      }
    },
    "template":{
      "metadata":{
        "labels":{
          "app.kubernetes.io/name":"some-app",
          "app.kubernetes.io/version":"v900.1.1"
        }
      },
      "spec":{
        "containers":[
          {
            "args":[
                "--metrics.read.endpoint=http://observatorium-thanos-query-frontend.yolo-stage.svc.cluster.local:9090",
                "--metrics.write.endpoint=http://observatorium-thanos-receive.yolo-stage.svc.cluster.local:19291",
                "--logs.read.endpoint=http://observatorium-loki-query-frontend-http.yolo-but-for-logs-stage.svc.cluster.local:3100",
                "--logs.tail.endpoint=http://observatorium-loki-querier-http.yolo-but-for-logs-stage.svc.cluster.local:3100",
                "--logs.write.endpoint=http://observatorium-loki-distributor-http.yolo-but-for-logs-stage.svc.cluster.local:3100",
                "--middleware.rate-limiter.grpc-address=observatorium-gubernator.yolo-stage.svc.cluster.local:8081",
                "--middleware.concurrent-request-limit=50"
            ],
            "image":"secret.quay.io/observatorium/api:v900.1.1",
            "name":"observatorium-api",
            "resources":{
              "limits":{
                "cpu":"1",
                "memory":"1Gi"
              },
              "requests":{
                "cpu":"100m",
                "memory":"256Mi"
              }
            },
            "volumeMounts":[
              {
                "mountPath":"/etc/observatorium/rbac.yaml",
                "name":"rbac",
                "readOnly":true,
                "subPath":"rbac.yaml"
              }
            ]
          }
        ],
        "serviceAccountName":"maor-for-president",
        "volumes":[
          {
            "configMap":{
              "name":"some-app"
            },
            "name":"rbac"
          }
        ]
      }
    }
  }
}
