---
$schema: /app-sre/saas-file-2.yml

# Some comment
imagePatterns:
- some/pattern

resourceTemplates:
- name: template
  url: http://localhost/repo
  path: /template.yaml
  targets:
  - namespaceSelector:
      jsonPathSelector:
        include:
        - namespace[completely-different]
    ref: current_sha
    parameters:
      SOME: parameter
    promotion:
      auto: true
      subscribe:
      - channel-a
      promotion_data:
      - channel: channel-a
        data:
        - parent_saas: parent_saas
          target_config_hash: current_hash
          type: parent_saas_config
  - namespaceSelector:
      jsonPathSelector:
        exclude:
        - namespace[completely-different]
        include:
        - namespace[completely-other]
    ref: hyper_sha
    parameters:
      SOME: parameter
    promotion:
      auto: true
      subscribe:
      - channel-a
      promotion_data:
      - channel: channel-a
        data:
        - parent_saas: parent_saas
          target_config_hash: hyper_hash
          type: parent_saas_config