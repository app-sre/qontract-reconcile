# qenerate: plugin=pydantic_v1

query CNAssets {
  namespaces: namespaces_v1 {
    name
    cluster {
      spec {
        id
      }
    }
    managedExternalResources
    externalResources {
      provider
      provisioner {
        name
      }
      ... on NamespaceCNAsset_v1 {
        resources {
          provider
          identifier
          ... on CNANullAsset_v1 {
            overrides {
              addr_block
            }
          }
          ... on CNARDSInstance_v1 {
            vpc {
              vpc_id
              region
              account {
                ... CNAAWSAccountRoleARNs
              }
            }
            defaults {
              ... ResourceFile
            }
            overrides {
              name
              engine
              engine_version
              username
              instance_class
              allocated_storage
              max_allocated_storage
              backup_retention_period
              db_subnet_group_name
            }
          }
          ... on CNAAssumeRoleAsset_v1{
            aws_account {
              ... CNAAWSAccountRoleARNs
            }
            overrides {
              slug
            }
            defaults {
              ... ResourceFile
            }
          }
        }
      }
    }
  }
}
